<!DOCTYPE html>
<html>
<head>
    <title>Firearm RP Calculator</title>
    <style>
        .calculator { max-width: 600px; margin: 20px auto; padding: 20px; border: 1px solid #ccc; }
        .input-group { margin: 10px 0; }
        label { display: inline-block; width: 150px; }
        input, select { width: 200px; padding: 5px; }
        button { padding: 10px 20px; margin-top: 10px; }
        #result { font-size: 18px; font-weight: bold; margin-top: 15px; }
    </style>
</head>
<body>
    <div class="calculator">
        <h2>Firearm RP Calculator</h2>
        
        <div class="input-group">
            <label>population: </label>
            <input type="number" id="population" required>
        </div>
        
        <div class="input-group">
            <label>students: </label>
            <input type="number" id="student" required>
        </div>
        
        <div class="input-group">
            <label>max student: </label>
            <input type="number" id="max-student" required>
        </div>
        
        <div class="input-group">
            <label>Caliber (inches):</label>
            <input type="number" step="0.01" id="caliber" required>
        </div>
        <div class="input-group">
            <label>Effective Range (yards):</label>
            <input type="number" id="range" required>
        </div>
        <div class="input-group">
            <label>Rate of Fire (rpm):</label>
            <input type="number" id="rof" required>
        </div>
        <div class="input-group">
            <label>Reload Speed (seconds):</label>
            <input type="number" step="0.1" id="reload" required>
        </div>
        <div class="input-group">
            <label>Weight (lbs):</label>
            <input type="number" id="weight" required>
        </div>
        <div class="input-group">
            <label>Durability:</label>
            <select id="durability">
                <option value="1">Low</option>
                <option value="2">Medium</option>
                <option value="3">High</option>
            </select>
        </div>
        <div class="input-group">
            <label>Accuracy:</label>
            <select id="accuracy">
                <option value="1">Low</option>
                <option value="2">Moderate</option>
                <option value="2.5">Moderate-High</option>
                <option value="3">High</option>
            </select>
        </div>
        <div class="input-group">
            <label>Ease of Use:</label>
            <select id="ease">
                <option value="1">Complex</option>
                <option value="2">Medium</option>
                <option value="3">Simple</option>
            </select>
        </div>

        <button onclick="calculateRP()">Calculate RP</button>
        <div id="result-rp"></div>
        <div id="result-time"></div>
        <div id="result-cost"></div>
    </div>

    <script>
        function calculateRP() {
            // Get input values
            const caliber = parseFloat(document.getElementById('caliber').value);
            const range = parseFloat(document.getElementById('range').value);
            const rof = parseFloat(document.getElementById('rof').value);
            const reload = parseFloat(document.getElementById('reload').value);
            const weight = parseFloat(document.getElementById('weight').value);
            const durability = parseFloat(document.getElementById('durability').value);
            const accuracy = parseFloat(document.getElementById('accuracy').value);
            const ease = parseFloat(document.getElementById('ease').value);
            const students = parseFloat(document.getElementById("student").value)
            const maxStudents = parseFloat(document.getElementById("student").value)
            const population = parseFloat(document.getElementById("student").value)
            const studentRatio = students / maxStudents
            const populationFactor = ( () => {

                if(population < 50000000) {
                    return 0.85
                }
                
                else if(population < 100000000){
                    return 0.75
                }
                else if(population < 300,000,000){
                   return 0.25
                }
                
                else {
                    return 0.15
                }
            })()
            
            // If you get Nan you Inputed invalid values to lazy to make a checker
            const caliberRP = Math.round(caliber * 10) * 2;
            const rangeRP = (range / 10) * 2;
            const rofRP = rof * 3;
            const reloadRP = (30 / reload) * 2;
            const weightRP = (20 - weight) * 1.5;
            const durabilityRP = durability * 2;
            const accuracyRP = accuracy * 2;
            const easeRP = ease * 2;

            // Calculate total RP
            const totalRP = caliberRP + rangeRP + rofRP + reloadRP + weightRP + durabilityRP + accuracyRP + easeRP;
            const totalTimeCost = totalRP / ( ( students * 0.01 ) * (populationFactor + studentRatio) )
            const totalCost = ( ( totalRP / 2 ) + (totalTimeCost * 2) )
            // Display result
            document.getElementById('result-rp').innerHTML = `Total RP Cost: ${totalRP.toFixed(1)}`
            document.getElementById('result-time').innerHTML = `TotalTime: ${totalTimeCost.toFixed(2)}`
            document.getElementById('result-cost').innerHTML = `TotalCost: ${totalCost.toFixed(3)}m`
        }
    </script>
</body>
</html>